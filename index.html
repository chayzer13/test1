<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram WebApp Example</title>
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            // Проверяем, доступен ли объект Telegram
            const tg = window.Telegram.WebApp;

            // Получаем данные пользователя
            const user = tg.initDataUnsafe.user;

            if (user) {
                // Отображаем имя пользователя
                document.getElementById('userName').textContent = `Привет, ${user.first_name}!`;

                // Отображаем аватарку, если она существует
                if (user.photo_url) {
                    document.getElementById('avatar').src = user.photo_url;
                    document.getElementById('avatar').alt = `${user.first_name}'s avatar`;
                }
            } else {
                document.getElementById('userName').textContent = "Пользователь не найден";
            }
        });
    </script>
</head>
<body>
    <h1 id="userName">Загрузка...</h1>
    <img id="avatar" alt="User avatar" style="display: none; width: 100px; height: 100px; border-radius: 50%;" />

    <script>
        // Показать аватарку, если она есть
        const imgElement = document.getElementById('avatar');
        if (imgElement.src) {
            imgElement.style.display = 'block';
        }
    </script>
</body>
</html>
